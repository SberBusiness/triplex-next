@import 'src/styles/style';

.lightBoxSideOverlayMask {
    transition: opacity 0s;
    background-color: var(--triplex-next-LightBox-Backdrop_Background);
}

.lightBoxSideOverlayWrapper {
    position: fixed;
    min-height: calc(100% - var(--lightBox-screen-top));
    top: var(--lightBox-screen-top);
    left: 0;
    width: 0;
    z-index: @z-index-step * 2;
    overflow-y: auto;
    // Чтобы элементы оверлея не получали фокус, когда он скрыт.
    visibility: hidden;

    &.overflowXHidden {
        overflow-x: hidden;
    }

    &.overflowYHidden {
        overflow-y: hidden;
    }

    &.closing,
    &.opened {
        visibility: visible;
        left: var(--lightBox-screen-left);
        width: var(--lightBox-screen-width);
        right: auto;
    }

    &.closing {
        pointer-events: none;
    }

    .lightBoxSideOverlayContent {
        position: relative;
        // transform: translateX(100%);
        transition: transform 0.6s;
        border-top-left-radius: 32px;
        border-top-right-radius: 32px;
        background-color: var(--triplex-next-LightBox-Content_Background);

        width: 1100px;
        max-width: calc(100% - 32px);
        margin: 16px auto 0;
        display: flex;
        justify-content: center;


        &.opened {
            // Убирается контекст для вложенных элементов с position: fixed.
            transform: none;
        }

        &.opening {
            // transform: translateX(0);
        }
    }

    // Открыт SideOverlay поверх текущего.
    &.openedTopLevelSideOverlay {
        .lightBoxSideOverlayContent {
            box-shadow: -13px 0 17px 0 rgba(0, 0, 0, 0.5);
        }
    }

    &.sizeSM .global-page {
        width: @sideOverlaySMWidth;
        // На мобильном устройстве, ширина не более ширины экрана.
        max-width: 100%;
    }

    &.sizeMD .global-page {
        width: @sideOverlayMDWidth;
        // На мобильном устройстве, ширина не более ширины экрана.
        max-width: 100%;
    }

    &.sizeLG .global-page {
        width: @sideOverlayLGWidth;
        // На мобильном устройстве, ширина не более ширины экрана.
        max-width: 100%;
    }

    .lightBoxSideOverlayBase {
        overflow: visible;
        bottom: auto;
        height: 100%;
    }

    @media (max-width: @screen-sm-max) {
        // На мобильных устройствах блок с кнопкой закрыть не должен уезжать на вторую строку.
        .globalHeaderTitleControls {
            position: absolute;
            top: 0;
            right: 20px;
        }

        .globalHeaderTitleContentText {
            // На мобильных устройствах отступ справа, чтобы не наезжать на кнопку закрыть.
            padding-right: 40px !important;
        }
    }
}

.lightBoxSideOverlay {
    display: flex;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    min-height: 100%;

    &.closing,
    &.opening {
        overflow-x: hidden;
    }
}

// Миксин скролл-зависимых стилей.
each(@scroll-sizes, {
    @scroll-width: @value;
    @scroll-width-px: ~'@{scroll-width}px';
    // Ширина экрана без скрола.
    @screen-width-without-scroll: calc(var(--lightBox-screen-width) - @scroll-width-px);

    html.scroll-@{scroll-width} {
        /*
          Breakpoint для размера менее 1024px.
        */
        // .LB-less-or-equal-media-point-0-no-hash {
        //     .lightBoxSideOverlay {
        //         left: 0;
        //         width: 100%;
        //     }
        // }
    }
})
