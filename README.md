# Triplex-next

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
npm install triplex-next
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
  components/
    MyComponent/
      MyComponent.tsx
      MyComponent.module.css
      index.ts
      __tests__/MyComponent.test.tsx
```

> –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π `index.ts`, —á—Ç–æ–±—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é `exports` –≤ `package.json`.

---

## üìú –°–∫—Ä–∏–ø—Ç—ã

| –°–∫—Ä–∏–ø—Ç | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|------------|
| `npm run rollup-build` | –°–±–æ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ `style.css` –≤ `dist/` |
| `npm run storybook` | –õ–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ |
| `npm run storybook:build` | –°–±–æ—Ä–∫–∞ Storybook –≤ `storybook-static/` |

---

## üß± –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

1. –°–æ–∑–¥–∞–π –ø–∞–ø–∫—É:

```bash
src/components/Alert/
```

2. –î–æ–±–∞–≤—å —Ñ–∞–π–ª—ã:

```
Alert.tsx
Alert.module.css
index.ts         ‚Üê –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π!
```

3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π –≤ `src/index.ts`:

```ts
export * from './components/Alert';
```

---
## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [Vitest](https://vitest.dev/) –¥–ª—è —é–Ω–∏—Ç-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ [Testing Library](https://testing-library.com/docs/react-testing-library/intro/) –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

Chromatic –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Storybook-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

üß™ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
	‚Ä¢	–ü—Ä–∏ –∫–∞–∂–¥–æ–º –ø—É—à–µ –≤ –≤–µ—Ç–∫–∏ main –∏–ª–∏ release-*, Chromatic –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã.
	‚Ä¢	Chromatic –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –≤—Å–µ—Ö stories, —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏, –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å).
	‚Ä¢	‚úÖ –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ—Ç ‚Äî –±–∏–ª–¥ —Å—á–∏—Ç–∞–µ—Ç—Å—è —É—Å–ø–µ—à–Ω—ã–º.
	‚Ä¢	üîç –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚Äî –Ω—É–∂–µ–Ω review –∏ approval –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Chromatic.

‚∏ª

üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
	‚Ä¢	Chromatic –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–æ—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ Telegram (—á–µ—Ä–µ–∑ Webhook), –µ—Å–ª–∏:
	‚Ä¢	–±–∏–ª–¥ –ø—Ä–æ—à—ë–ª ‚úÖ
	‚Ä¢	–∏–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è/–æ—à–∏–±–∫–∏ ‚ùó

‚∏ª

üöÄ –ö–∞–∫ –æ–¥–æ–±—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
	1.	–ü–µ—Ä–µ–π–¥–∏ –≤ —Å–≤–æ–π Chromatic –ø—Ä–æ–µ–∫—Ç
	2.	–ù–∞–π–¥–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –±–∏–ª–¥ –≤ —Å–ø–∏—Å–∫–µ.
	3.	–ù–∞–∂–º–∏ Review changes
	4.	–ü—Ä–æ—Å–º–æ—Ç—Ä–∏ –æ—Ç–ª–∏—á–∏—è ‚Üí Approve (–µ—Å–ª–∏ –≤—Å—ë –æ–∫)


### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ª–æ–∫–∞–ª—å–Ω–æ

```bash
npm run test-e2e         # –ó–∞–ø—É—Å–∫ e2e —Ç–µ—Å—Ç–æ–≤
npm run test-unit         # –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
npm run test-unit:watch   # –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
npm run test-unit:coverage # –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á—ë—Ç–∞ –æ –ø–æ–∫—Ä—ã—Ç–∏–∏
npm run chromatic # –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–Ω—à–æ—Ç —Ç–µ—Å—Ç–æ–≤. –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ñ–∞–π–ª .env.local —Å –∫–ª—é—á–µ–º CHROMATIC_PROJECT_TOKEN=***
```

## üì§ –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

> –ü—Ä–∏ —Å–±–æ—Ä–∫–µ `package.json` –≤ `dist/` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–º.  
–û—Å–Ω–æ–≤–∞–Ω –Ω–∞ –Ω–∞–ª–∏—á–∏–∏ `src/components/<Name>/index.ts`.

---

## üì¶ –ü—É–±–ª–∏–∫–∞—Ü–∏—è

```bash
npm run build
npm publish
```
